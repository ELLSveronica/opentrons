<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced Use Cases &#8212; Opentrons API v2.0</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://opentrons.com/css/master.css" type="text/css" />
    <link rel="stylesheet" href="_static/override_master.css" type="text/css" />
    <link rel="stylesheet" href="_static/override_sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Opentrons API v2.0" href="index.html" />
    <link rel="next" title="Modules" href="module.html" />
    <link rel="prev" title="Using the App" href="running_app.html" />  
<link rel="stylesheet" href="_static/custom.css" type="text/css" />  
<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
<!-- INTERCOM -->
<script>
window.intercomSettings = {
    app_id: "ukpodv2l"
};
</script>
<script>
(function() {
    var w = window;
    var ic = w.Intercom;
    if (typeof ic === "function") {
        ic('reattach_activator');
        ic('update', intercomSettings);
    } else {
        var d = document;
        var i = function() {
            i.c(arguments)
        };
        i.q = [];
        i.c = function(args) {
            i.q.push(args)
        };
        w.Intercom = i;

        function l() {
            var s = d.createElement('script');
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'https://widget.intercom.io/widget/ukpodv2l';
            var x = d.getElementsByTagName('script')[0];
            x.parentNode.insertBefore(s, x);
        }
        if (w.attachEvent) {
            w.attachEvent('onload', l);
        } else {
            w.addEventListener('load', l, false);
        }
    }
})()
</script>

  </head>
  <body role="document">
<header>
    <a href="https://opentrons.com" class="brand">
        <img class="top-nav-logo" src="https://s3.amazonaws.com/opentrons-images/website/ot_logo_full.png" alt="OpenTrons Logo Home" />
    </a>
    <div id="nav-collapse">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </div>
    <nav>
        <ul id="main">
            <li>
                <a href="https://opentrons.com/robots" class="menu-toggle" data-dropdown=".products">Products</a>
            </li>
            <li>
                <a href="https://opentrons.com/about" class="menu-toggle" data-dropdown=".company">Company</a>
            </li>
            <li>
                <a href="https://opentrons.com/getting-started/" class="menu-toggle" data-dropdown=".resources">Resources</a>
            </li>
            <li>
                <a href="https://shop.opentrons.com/">Buy</a>
            </li>
        </ul>
        <section id="dropdown">
            <ul class="products">
                <li class="mobile">Products</li>
                <li><a href="https://opentrons.com/robots">Robots</a></li>
                <li><a href="https://opentrons.com/ot-app">OT App</a></li>
                <li><a href="https://opentrons.com/protocol-library/">Protocol Library</a></li>
                <li>&nbsp;</li>
            </ul>
            <ul class="company">
                <li class="mobile">Company</li>
                <li><a href="https://opentrons.com/about">About</a></li>
                <li><a href="https://opentrons.com/team">Team</a></li>
                <li><a href="https://blog.opentrons.com" target="_blank">Blog</a></li>
                <li><a href="https://opentrons.com/contact">Contact Us</a></li>
            </ul>
            <ul class="resources">
                <li class="mobile">Resources</li>
                <li><a href="https://opentrons.com/getting-started/">Getting Started</a></li>
                <li><a href="http://docs.opentrons.com/" target="_blank">Opentrons API</a></li>
                <li><a href="https://opentrons.com/faqs">FAQ</a></li>
                <li><a href="https://github.com/OpenTrons/otone_docs/blob/master/Open_Source.md" target="_blank">Open Source</a></li>
            </ul>
        </section>
    </nav>
    <br style="clear:both">
    <script type="text/javascript">
    $(function() {

        $('#dropdown').slideUp(0);

        $('#nav-collapse').click(function(event) {
            $(this).toggleClass('change');
            $('#dropdown').slideToggle(500);
        });

        $('.menu-toggle').mouseenter(function(event) {
            event.preventDefault();
            var target = $(this).attr('data-dropdown');

            $('*').removeClass('active');
            $(this).addClass('active');
            $(target).addClass('active');

            $('#dropdown').slideDown(300);

            $('.brand').addClass('open');
            $('#nav-spacer').addClass('nav-open');


        });
        $('header').mouseleave(function(event) {
            $('#dropdown').slideUp(300);
            $('.brand').removeClass('open');
            $('#nav-spacer').removeClass('nav-open');
        });
    });
    </script>
</header>
<div id="nav-spacer">&nbsp;</div>
<div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="updating_firmware.html">Updating Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Code Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Writing a Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="well_access.html">Container Well Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="labware_library.html">Labware Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_containers.html">Custom Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_app.html">Using the App</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Advanced Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#automatically-refill-volume">Automatically Refill Volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="#serial-dilution">Serial Dilution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plate-mapping">Plate Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#precision-pipetting">Precision Pipetting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Developer Interface</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="running_app.html" title="previous chapter">Using the App</a></li>
      <li>Next: <a href="module.html" title="next chapter">Modules</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tips_and_tricks.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    <div class="documentwrapper">
        <div class="bodywrapper">
            <div class="body" role="main">
                
  <div class="section" id="advanced-use-cases">
<span id="tips-and-tricks"></span><h1>Advanced Use Cases<a class="headerlink" href="#advanced-use-cases" title="Permalink to this headline">Â¶</a></h1>
<p>The following examples assume the containers and pipettes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opentrons</span> <span class="k">import</span> <span class="n">robot</span><span class="p">,</span> <span class="n">containers</span><span class="p">,</span> <span class="n">instruments</span>

<span class="n">tiprack</span> <span class="o">=</span> <span class="n">containers</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;tiprack-200ul&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">)</span>
<span class="n">plate</span> <span class="o">=</span> <span class="n">containers</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;96-flat&#39;</span><span class="p">,</span> <span class="s1">&#39;B1&#39;</span><span class="p">)</span>
<span class="n">trough</span> <span class="o">=</span> <span class="n">containers</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;trough-12row&#39;</span><span class="p">,</span> <span class="s1">&#39;C1&#39;</span><span class="p">)</span>
<span class="n">trash</span> <span class="o">=</span> <span class="n">containers</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;point&#39;</span><span class="p">,</span> <span class="s1">&#39;C2&#39;</span><span class="p">)</span>

<span class="n">p200</span> <span class="o">=</span> <span class="n">instruments</span><span class="o">.</span><span class="n">Pipette</span><span class="p">(</span>
    <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span>
    <span class="n">max_volume</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">tip_racks</span><span class="o">=</span><span class="p">[</span><span class="n">tiprack</span><span class="p">])</span>
</pre></div>
</div>
<div class="section" id="automatically-refill-volume">
<h2>Automatically Refill Volume<a class="headerlink" href="#automatically-refill-volume" title="Permalink to this headline">Â¶</a></h2>
<p>Want to deposit liquid to an entire plate, but don&#8217;t want to have to tell the robot when to pick up more liquid?  This example will keep track of the volume in the pipette and automatically picks up more liquid when there isn&#8217;t enough for the next dispense.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">p200</span><span class="o">.</span><span class="n">pick_up_tip</span><span class="p">()</span>

<span class="n">dispense_volume</span> <span class="o">=</span> <span class="mi">13</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">96</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">p200</span><span class="o">.</span><span class="n">current_volume</span> <span class="o">&lt;</span> <span class="n">dispense_volume</span><span class="p">:</span>
        <span class="n">p200</span><span class="o">.</span><span class="n">aspirate</span><span class="p">(</span><span class="n">trough</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">])</span>
    <span class="n">p200</span><span class="o">.</span><span class="n">dispense</span><span class="p">(</span><span class="n">dispense_volume</span><span class="p">,</span> <span class="n">plate</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">touch_tip</span><span class="p">()</span>

<span class="n">p200</span><span class="o">.</span><span class="n">blow_out</span><span class="p">(</span><span class="n">trough</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">drop_tip</span><span class="p">(</span><span class="n">trash</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="serial-dilution">
<h2>Serial Dilution<a class="headerlink" href="#serial-dilution" title="Permalink to this headline">Â¶</a></h2>
<p>This serial dilution example assumes a standard 96 well plate, using a different tip per column and a different trough row per column.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">plate</span><span class="o">.</span><span class="n">cols</span><span class="p">):</span>
    <span class="n">p200</span><span class="o">.</span><span class="n">pick_up_tip</span><span class="p">(</span><span class="n">tiprack</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>  <span class="c1"># Use one tip per column</span>

    <span class="n">p200</span><span class="o">.</span><span class="n">aspirate</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="n">trough</span><span class="p">[</span><span class="n">t</span><span class="p">])</span> <span class="c1"># aspirate from a trough</span>
    <span class="n">p200</span><span class="o">.</span><span class="n">dispense</span><span class="p">(</span><span class="n">col</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>         <span class="c1"># dispense everything into a first well</span>

    <span class="c1"># zip(col[:-1], col[1:]) returns pairs of</span>
    <span class="c1"># (A1, A2), (A2, A3), (A3, A4), etc</span>
    <span class="k">for</span> <span class="n">well</span><span class="p">,</span> <span class="n">next_well</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">col</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">col</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
        <span class="n">p200</span><span class="o">.</span><span class="n">aspirate</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">well</span><span class="p">)</span>
        <span class="n">p200</span><span class="o">.</span><span class="n">dispense</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">next_well</span><span class="p">)</span><span class="o">.</span><span class="n">mix</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

    <span class="n">p200</span><span class="o">.</span><span class="n">drop_tip</span><span class="p">(</span><span class="n">trash</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="plate-mapping">
<h2>Plate Mapping<a class="headerlink" href="#plate-mapping" title="Permalink to this headline">Â¶</a></h2>
<p>Deposit various volumes of liquids into the same plate of wells, and automatically refill the tip volume when it runs out.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sources</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;A1&#39;</span><span class="p">:</span> <span class="s1">&#39;water&#39;</span><span class="p">,</span>
    <span class="s1">&#39;A2&#39;</span><span class="p">:</span> <span class="s1">&#39;sugar&#39;</span><span class="p">,</span>
    <span class="s1">&#39;A3&#39;</span><span class="p">:</span> <span class="s1">&#39;purple&#39;</span>
<span class="p">}</span>
<span class="n">destinations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;A1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
    <span class="s1">&#39;B1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
    <span class="s1">&#39;C1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
    <span class="s1">&#39;D1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span>
    <span class="s1">&#39;E1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
    <span class="s1">&#39;F1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">},</span>
    <span class="s1">&#39;G1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">},</span>
    <span class="s1">&#39;H1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span> <span class="s1">&#39;sugar&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">source_name</span><span class="p">,</span> <span class="n">ingredient</span> <span class="ow">in</span> <span class="n">sources</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">p200</span><span class="o">.</span><span class="n">pick_up_tip</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">destination_well</span><span class="p">,</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">destinations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">dispense_volume</span> <span class="o">=</span> <span class="n">mapping</span><span class="p">[</span><span class="n">ingredient</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">p200</span><span class="o">.</span><span class="n">current_volume</span> <span class="o">&lt;</span> <span class="n">dispense_volume</span><span class="p">:</span>
           <span class="n">p200</span><span class="o">.</span><span class="n">aspirate</span><span class="p">(</span><span class="n">trough</span><span class="p">[</span><span class="n">source_name</span><span class="p">])</span>
        <span class="n">p200</span><span class="o">.</span><span class="n">dispense</span><span class="p">(</span><span class="n">dispense_volume</span><span class="p">,</span> <span class="n">plate</span><span class="p">[</span><span class="n">destination_well</span><span class="p">])</span>
    <span class="n">p200</span><span class="o">.</span><span class="n">blow_out</span><span class="p">(</span><span class="n">trough</span><span class="p">[</span><span class="n">source_name</span><span class="p">])</span><span class="o">.</span><span class="n">return_tip</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="precision-pipetting">
<h2>Precision Pipetting<a class="headerlink" href="#precision-pipetting" title="Permalink to this headline">Â¶</a></h2>
<p>This example shows how to deposit liquid around the edge of a well.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">p200</span><span class="o">.</span><span class="n">pick_up_tip</span><span class="p">(</span><span class="n">tiprack</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

<span class="c1"># rotate around the edge of the well</span>
<span class="c1"># dropping 10ul at a time</span>
<span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="k">while</span> <span class="n">p200</span><span class="o">.</span><span class="n">current_volume</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c1"># we can move around a circle with radius (r) and theta (degrees)</span>
    <span class="n">well_edge</span> <span class="o">=</span> <span class="n">plate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">from_center</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>

    <span class="c1"># combine a Well with a Vector in a tuple</span>
    <span class="n">destination</span> <span class="o">=</span> <span class="p">(</span><span class="n">plate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">well_edge</span><span class="p">)</span>
    <span class="n">p200</span><span class="o">.</span><span class="n">move_to</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;direct&#39;</span><span class="p">)</span>  <span class="c1"># move straight there</span>
    <span class="n">p200</span><span class="o">.</span><span class="n">dispense</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">theta</span> <span class="o">+=</span> <span class="mf">0.314</span>

<span class="n">p200</span><span class="o">.</span><span class="n">drop_tip</span><span class="p">(</span><span class="n">tiprack</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>


            </div>
        </div>
    </div>
    <div class="clearer"></div>
</div>
<footer>
    <div class="get-in-touch">
        <h1 class="title">Get In Touch</h1>
        <p class="caption">
            We'd love to hear from you!
            <br> Reach us here or get in touch with us live via <span style="cursor:pointer" id="chat">chat</span>.
        </p>
        <form class="footerForm">
            <div class="input-wrapper">
                <input type="text" name="name" value="" id="name" placeholder="Name">
                <input type="email" name="email" value="" id="email" placeholder="Email">
            </div>
            <textarea name="message" id="message" placeholder="Message"></textarea>
            <input type="hidden" name="type" value="message"></input>
            <button class="gray" type="submit" name="get-in-touch">Submit</button>
        </form>
    </div>
    <div class="nav-link-group">
        <div class="nav-link products">
            <span class="link-title">PRODUCTS</span>
            <ul class="products-list">
                <li><a href="https://opentrons.com/robots">Robots</a></li>
                <li><a href="https://opentrons.com/ot-app">OT App</a></li>
                <li><a href="https://opentrons.com/protocol-library/">Protocol Library</a></li>
            </ul>
        </div>
        <div class="nav-link-divider"></div>
        <div class="nav-link company">
            <span class="link-title">COMPANY</span>
            <ul class="company-list">
                <li><a href="https://opentrons.com/about">About</a></li>
                <li><a href="https://opentrons.com/team">Team</a></li>
                <li><a href="https://blog.opentrons.com" target="_blank">Blog</a></li>
                <li><a href="https://opentrons.com/contact">Contact Us</a></li>
                <!-- <li>Privacy Policy</li> -->
            </ul>
        </div>
        <div class="nav-link-divider"></div>
        <div class="nav-link resources">
            <span class="link-title">RESOURCES</span>
            <ul class="resources-list">
                <li><a href="https://opentrons.com/getting-started/">Getting Started</a></li>
                <li><a href="https://opentrons.com/faqs">FAQ</a></li>
                <li><a href="https://github.com/OpenTrons/otone_docs/blob/master/Open_Source.md" target="_blank">Open Source</a></li>
            </ul>
        </div>
        <div class="nav-link-divider"></div>
        <div class="nav-link buy-button">
            <a href="https://shop.opentrons.com/" target="_blank">BUY</a>
        </div>
        <div class="social-group">
            <p class="social-links">
                <a href="https://www.facebook.com/OpenTrons-Labworks/" target="_blank"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_facebook.png" alt="facebook logo" /></a>
                <a href="https://twitter.com/OpenTrons_" target="_blank"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_twitter.png" alt="twitter logo" /></a>
                <a href="https://www.instagram.com/opentronslab/" target="_blank"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_instagram.png" alt="instagram logo" /></a>
                <!--     <a href="https://www.instagram.com/opentronslab/" target="_blank"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_instagram.png" alt="instagram logo" /></a> -->
                <a href="https://www.youtube.com/channel/UCvMRmXIxnHs3AutkVhuqaQg" target="_blank"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_youtube.png" alt="youtube logo" /></a>
            </p>
            <p class="ot-newsletter">
                Subscribe to our newsletter
                <br>
                <!-- <input type="email" name="email" placeholder="Email"></input>
      <button class="gray subscribe" type="button" name="button">Subscribe</button> -->
                <div id="mc_embed_signup">
                    <form action="//opentrons.us8.list-manage.com/subscribe/post?u=000595683fb96c5fb3c54cf53&amp;id=ba66060a9c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                        <div id="mc_embed_signup_scroll">
                            <input type="email" value="" name="EMAIL" class="email-newsletter" id="mce-EMAIL" placeholder="email address" required>
                            <div style="position: absolute; left: -5000px;" aria-hidden="true">
                                <input type="text" name="b_000595683fb96c5fb3c54cf53_ba66060a9c" tabindex="-1" value="">
                            </div>
                            <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="gray subscribe">
                        </div>
                    </form>
                </div>
            </p>
        </div>
        <span class="ot-copyright">&#169;&nbsp;OPENTRONS 2016</span>
    </div>
</footer>
<script>
$(document).ready(function() {
    $(".footerForm").submit(function(event) {
        var data = {};
        $(".footerForm").serializeArray().map(function(x) {
            data[x.name] = x.value;
        });
        ga('send', 'event', 'Contact - Email', 'Clicked Email Submit', window.location.href, {
            'dimension1': data.email
        });
        console.log(data)

        $.ajax({
            type: "POST",
            url: "https://email.opentrons.com:3000",
            dataType: "json",
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function(res) {
                console.log(`success: ${res}`);
                $(".footerForm").fadeOut("slow");
                $(".caption")[0].innerHTML = "Thanks for contacting us! We'll get back to you as quick as we can.";
            },
            error: function(err) {
                console.log(`err: ${JSON.stringify(err)}`)
            },
        });

        event.preventDefault();
    });

    $("form.validate").submit(function(event) {
        var data = {};
        $("form.validate").serializeArray().map(function(x) {
            data[x.name] = x.value;
        });
        ga('send', 'event', 'Newsletter', 'Signup', window.location.href, {
            'dimension1': data.EMAIL
        })
    });

    $('#chat').on('click', () => {
        Intercom('showNewMessage');
    })
});
</script>
 
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-83820700-1']);
_gaq.push(['_setDomainName', 'none']);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_trackPageview']);
(function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>

  </body>
</html>